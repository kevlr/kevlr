// ===============================================================
// =========================== mixins ============================
// ===============================================================

@mixin rem($propr, $px) {
	#{$propr}: $px;
	#{$propr}: $px / 16px * 1rem;
}

@mixin media($layout-name) {
	@each $layout in $all-layouts {
		@if (nth($layout, 1) == $layout-name) {
			@media only screen and (min-width: nth($layout, 2)) {
				@content;
			}
		}
    
        @if ($ie8-layout == $layout-name and $ie8-support == true) {
            @if & {
                .#{$ie8-class-on-html-tag} & {
                    @content;
                }
            
            } @else {
                .#{$ie8-class-on-html-tag} {
                    @content;
                }
            }
		}
	}
}

$all-layouts: zip($layouts-name, $layouts-media-queries, $layouts-columns-number, $layouts-column-gutter, $layouts-container-max-width);

@mixin gutter($type, $directions, $ratio: 1) {
	@each $direction in $directions {
		#{$type}-#{$direction}: nth($layouts-column-gutter, 1) * $ratio;
	}
	@for $i from 2 through length($all-layouts) {
		@include media(nth($layouts-name, $i)) {
			@each $direction in $directions {
				#{$type}-#{$direction}: nth($layouts-column-gutter, $i) * $ratio;
			}
		}
	}
}

@mixin responsive-font-size($size) {
	@for $i from 1 through length($layouts-name) {
		@if $i == 1 {
				@include rem(font-size, nth(nth($size, $i),1));
            
				@if length(nth($size, $i)) == 2 {
					line-height: nth(nth($size, $i),2);
				}
		} @else {
			@include media(nth($layouts-name, $i)) {
                
                @if nth(nth($size, $i),1) != nth(nth($size, $i - 1),1) {
				    @include rem(font-size, nth(nth($size, $i),1));
                }
                
				@if length(nth($size, $i)) == 2 and nth(nth($size, $i),2) != nth(nth($size, $i - 1),2) {
					line-height: nth(nth($size, $i),2);
				}
			}
		}
	}
}